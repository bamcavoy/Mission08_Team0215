@model IEnumerable<Mission08_Team0215.Models.UserTask>

@{
    ViewData["Title"] = "Covey's Time Management Matrix";

    var userTasks = ViewBag.UserTask as List<Mission08_Team0215.Models.UserTask>;
    var categories = ViewBag.Category as List<Mission08_Team0215.Models.Category>;
}

<div class="task-lists">
    <ul>
        @foreach (var userTask in userTasks)
        {
            <li>@userTask.TaskName</li>
        }
        // Ensure your Category model has a property that you're trying to display
        @foreach (var category in categories)
        {
            <li>@category.CategoryName</li>
            // Replace YourPropertyNameHere with the actual property name
        }
    </ul>
</div>

<div class="container">
    @for (int i = 1; i <= 4; i++)
    {
        <div id="quadrant@i" class="quadrant">
            <h3>Quadrant @i: @(i == 1 ? "Important / Urgent" : i == 2 ? "Important / Not Urgent" : i == 3 ? "Not Important / Urgent" : "Not Important / Not Urgent")</h3>
            <ul>
                @foreach (var item in Model.Where(x => x.Quadrant == i && x.Completed != true))
                {
                    var dueDateString = item.DueDate.HasValue ? item.DueDate.Value.ToString("MM/dd/yyyy") : "No Due Date";
                    <li>
                        @Html.DisplayFor(modelItem => item.TaskName) -
                        @dueDateString
                        <a href="@Url.Action("UpdateTask", "Home", new { id = item.TaskId })">Update</a> |
                        <a href="@Url.Action("DeleteTask", "Home", new { id = item.TaskId })">Delete</a>
                    </li>
                }
            </ul>
        </div>
    }
</div>

@* Links to other views *@
<div class="links">
    <p>
        @Html.ActionLink("Add New Task", "CreateTask", "Home", null, new { @class = "add-task-link" })
        @Html.ActionLink("View Completed Tasks", "CompletedTasks", "Home", null, new { @class = "completed-tasks-link" })
    </p>
</div>

<style>
    .container {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
    }

    .quadrant {
        flex-basis: 48%;
        border: 1px solid #ccc;
        margin-bottom: 20px;
        padding: 10px;
    }

    .task-lists ul, .links p {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }

    .add-task-link, .completed-tasks-link {
        display: inline-block;
        margin-right: 10px;
    }
</style>
